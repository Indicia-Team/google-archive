<report
    title="MNHNL Location Search 0"
    description="Form Internal Report: To be used when searching locations for attributes which match a value: index zero, which means first attribute."
>
<query>
  SELECT lav1.text_value attr_value1,
         count(*) count
  FROM locations l
  LEFT JOIN location_attribute_values lav1 ON lav1.location_id = l.id and lav1.deleted = FALSE and lav1.location_attribute_id = #location_attr_1_id#
  WHERE l.location_type_id = #location_type_id#
  GROUP BY lav1.text_value
  ORDER BY lav1.text_value
  </query>
  <params>
    <param name='location_type_id' display='Location Type ID' description='Location Type ID' datatype='int' />
    <param name='location_attr_1_id' display='Location Attribute ID 1' description='Location Attribute ID' datatype='int' />
  </params>
</report>
